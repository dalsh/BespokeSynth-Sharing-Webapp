{"version":3,"sources":["components/Error.tsx","theme/copyleft.svg","components/Footer.tsx","config.ts","hooks/useData.ts","theme/constants.ts","components/Header.tsx","components/Loader.tsx","components/Section.tsx","i18n/en.js","i18n/index.ts","components/Typography.tsx","components/AboutContent.tsx","components/PatchItem.tsx","components/PatchList.tsx","pages/Home.tsx","theme/modal.ts","components/TextModal.tsx","components/BSKViz.tsx","hooks/useTitle.ts","components/DocumentTitle.tsx","components/ScriptsModal.tsx","pages/Patch.tsx","theme/fluenceTheme.ts","App.tsx","index.tsx"],"names":["$","mergeStyleSets","error","background","padding","errorFull","pointerEvents","width","height","marginTop","position","top","display","justifyContent","alignItems","title","fontWeight","Error","t","useTranslation","createPortal","className","document","body","root","fontSize","opacity","content","copyleft","backgroundSize","marginRight","Footer","Config","basePath","repo","REPO","DataContext","createContext","useData","useState","patches","setPatches","isLoaded","setIsLoaded","isError","setIsError","searchState","setSearchState","load","useHistory","useCallback","f","a","fetch","resp","json","ps","useMemo","se","seTags","includes","split","s","length","search","selectedTags","filteredPatchList","Object","values","filter","patch","every","tag","tags","summary","toLowerCase","reduce","set","forEach","add","Set","getPatchInfo","patchId","projectFolder","data","scripts","bsk_content","modules","script","map","audio_samples","as","bsk_download","bsk_path","console","MOBILE","paddingLeft","paddingRight","form","header","boxSizing","zIndex","brand","letterSpacing","cursor","subBrand","Header","useContext","localSearch","setSearch","localSelectedTags","setSelectedTags","h","go","push","join","window","location","pathname","startsWith","useEffect","Stack","horizontal","wrap","verticalAlign","horizontalAlign","role","onClick","onSubmit","e","preventDefault","tokens","childrenGap","TextField","placeholder","onChange","v","value","ComboBox","options","Array","from","ta","key","text","multiSelect","selectedKey","option","selected","allowFreeform","PrimaryButton","type","full","Loader","color","size","paddingTop","maxWidth","margin","marginBottom","minHeight","Section","children","Patch","viz","description","no_audio_samples","no_description","back","PatchList","no_patches","About","upload_title","upload","PatchItem","author","date","revision","download","ScriptsModal","intro","cancel","initLocales","i18next","use","initReactI18next","init","resources","en","translation","lng","fallbackLng","interpolation","escapeValue","sectionTitle","textTransform","selectors","SectionTitle","p","AboutContent","short","dangerouslySetInnerHTML","__html","useStyle","makeStyles","borderBottom","flexDirection","titleInList","subpatch","subpatchTitle","separator","marginLeft","onDownload","isList","id","highlightClassName","searchWords","autoEscape","textToHighlight","Date","publish","toLocaleString","version","style","iconProps","iconName","list","gridTemplateColumns","gap","Home","useParams","noFilters","DefaultButton","modalStyles","docBodyFix","container","flex","overflowY","maxHeight","footer","paddingBottom","closeIcon","closeIconHovered","textRead","minWidth","overflowX","fontFamily","whiteSpace","TextModal","onClose","hasVerticalScrollbar","scrollHeight","clientHeight","classList","remove","Modal","isOpen","onDismiss","isBlocking","containerClassName","IconButton","language","docco","dagreGraph","dagre","graphlib","Graph","setDefaultEdgeLabel","BSKViz","modalContent","setModalContent","cables","flatMap","m","i","target","j","findIndex","n","name","source","animated","nodes","backgroundColor","comment","label","x","y","elements","elt","module","undefined","minZoom","maxZoom","onLoad","instance","fitView","nodesDraggable","nodesConnectable","onElementClick","_","isNode","showInteractive","variant","BackgroundVariant","Dots","useTitle","prevTitle","DocumentTitle","onEnd","borderRadius","Pivot","PivotItem","headerText","AudioItem","src","fname","audioRef","useRef","isPlaying","setIsPlaying","playpause","current","pause","play","ref","reverse","samples","contentStack","PatchPage","showScriptModal","setShowScriptModal","fullPatch","setFullPatch","createElement","href","click","valid","goBack","html","trim","myTheme","createTheme","palette","themePrimary","themeLighterAlt","themeLighter","themeLight","themeTertiary","themeSecondary","themeDarkAlt","themeDark","themeDarker","neutralLighterAlt","neutralLighter","neutralLight","neutralQuaternaryAlt","neutralQuaternary","neutralTertiaryAlt","neutralTertiary","neutralSecondary","neutralPrimaryAlt","neutralPrimary","neutralDark","black","white","initializeIcons","Inner","dataAPI","Provider","exact","path","component","render","textAlign","App","ThemeProvider","applyTo","theme","basename","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.11e0f5d8.chunk.js","sourcesContent":["import { mergeStyleSets } from \"@fluentui/merge-styles\";\nimport React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nconst $ = mergeStyleSets({\n  error: {\n    background: \"#aa0000\",\n    padding: 50,\n  },\n  errorFull: {\n    pointerEvents: \"none\",\n    width: \"100vw\",\n    height: \"calc(100vh - 50px)\",\n    marginTop: 50,\n    position: \"fixed\",\n    top: 0,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  title: {\n    fontWeight: \"bold\",\n  },\n});\n\nconst Error: React.FC = () => {\n  const { t } = useTranslation();\n  return createPortal(\n    <div className={$.errorFull}>\n      <div className={$.error}>\n        <div className={$.title}>{t(\"Error.title\")}</div>\n        <div>{t(\"Error.content\")}</div>\n      </div>\n    </div>,\n    document.body\n  );\n};\n\nexport default Error;\n","export default __webpack_public_path__ + \"static/media/copyleft.3f7759ac.svg\";","import { mergeStyleSets } from \"@fluentui/merge-styles\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport copyleft from \"../theme/copyleft.svg\";\n\nconst $ = mergeStyleSets({\n  root: {\n    height: 50,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: \".8rem\",\n    opacity: 0.8,\n    \"::before\": {\n      content: \"' '\",\n      background: `url(${copyleft})`,\n      backgroundSize: \"contain\",\n      width: 11,\n      height: 11,\n      marginRight: 4,\n      position: \"relative\",\n      top: -1,\n    },\n  },\n});\n\nconst Footer: React.FC = () => {\n  const { t } = useTranslation();\n  return <div className={$.root}>{t(\"Footer.text\")}</div>;\n};\n\nexport default Footer;\n","const Config = {\n  basePath: \"BespokeSynth-Sharing-Webapp\",\n  repo: \"https://fredericlb.github.io/BespokeSynth-Community-Sharing-Repo/\",\n};\n\nexport default Config;\n","import { createContext, useCallback, useMemo, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Config from \"../config\";\nimport { Patch, PatchSummary } from \"./patch.types\";\n\ntype PatchesDict = Record<string, PatchSummary>;\n\nexport interface IUseData {\n  isLoaded: boolean;\n  isError: boolean;\n  load: () => void;\n  filteredPatchList: PatchSummary[];\n  tags: Set<string>;\n  setSearchState: (s: string | undefined) => void;\n  search: string;\n  selectedTags: string[];\n  patches: PatchesDict;\n  getPatchInfo: (patchId: string) => Promise<Patch | null>;\n}\n\nconst REPO = Config.repo;\n\nexport const DataContext = createContext<Partial<IUseData>>({});\n\nconst useData = (): IUseData => {\n  const [patches, setPatches] = useState<PatchesDict>({});\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [searchState, setSearchState] = useState<string>();\n  const h = useHistory();\n\n  const load = useCallback(() => {\n    const f = async () => {\n      try {\n        const resp = await fetch(`${REPO}manifest.json`);\n        const ps = await resp.json();\n        setPatches(ps);\n        setIsError(false);\n      } catch (e) {\n        setIsError(true);\n      } finally {\n        setIsLoaded(true);\n      }\n    };\n    f();\n  }, []);\n\n  const { search, selectedTags } = useMemo(() => {\n    let se = \"\";\n    let seTags: string[] = [];\n\n    if (searchState && searchState.includes(\"---\")) {\n      const [s, ...t] = searchState.split(\"---\");\n      if (s !== se) {\n        se = s;\n      }\n      if (t.length !== 1 || t[0].length > 0) {\n        seTags = t;\n      }\n    }\n\n    return { search: se, selectedTags: seTags };\n  }, [searchState]);\n\n  const filteredPatchList = useMemo(\n    () =>\n      Object.values(patches)\n        .filter(\n          (patch) =>\n            selectedTags.length === 0 ||\n            selectedTags.every((tag) => patch.tags.includes(tag))\n        )\n        .filter(\n          (patch) =>\n            search.length === 0 ||\n            (patch.title[0] + patch.summary[0])\n              .toLowerCase()\n              .includes(search.toLowerCase())\n        ),\n    [patches, selectedTags, search]\n  );\n\n  const tags = useMemo(\n    () =>\n      Object.values(patches).reduce((set, patch) => {\n        patch.tags.forEach((tag) => set.add(tag));\n        return set;\n      }, new Set<string>()),\n    [patches]\n  );\n\n  const getPatchInfo = useCallback(async (patchId: string) => {\n    const projectFolder = `${REPO}${patchId}/`;\n    try {\n      const data = (await (\n        await fetch(`${projectFolder}manifest.json`)\n      ).json()) as Patch;\n      const scripts = data.bsk_content.modules\n        .filter(({ script }) => script != null)\n        .map(({ script }) => script);\n      return {\n        ...data,\n        audio_samples: (data.audio_samples || []).map(\n          (as) => `${projectFolder}${as}`\n        ),\n        bsk_download: `${projectFolder}${data.bsk_path}`,\n        scripts,\n      } as Patch;\n    } catch (e) {\n      console.error(e);\n      return null;\n    }\n  }, []);\n\n  return {\n    isLoaded,\n    isError,\n    load,\n    filteredPatchList,\n    tags,\n    search,\n    selectedTags,\n    patches,\n    getPatchInfo,\n    setSearchState,\n  };\n};\n\nexport default useData;\n","export const MOBILE = \"@media screen and (max-width: 780px)\";\nexport const DUMMY = \"\";\n","import { mergeStyleSets } from \"@fluentui/merge-styles\";\nimport { ComboBox, PrimaryButton, Stack, TextField } from \"@fluentui/react\";\nimport React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport { DataContext, IUseData } from \"../hooks/useData\";\nimport { MOBILE } from \"../theme/constants\";\n\nconst $ = mergeStyleSets({\n  root: {\n    height: \"100%\",\n    width: \"100%\",\n    paddingLeft: 5,\n    paddingRight: 10,\n  },\n  form: {\n    [MOBILE]: {\n      marginTop: 0,\n    },\n  },\n  header: {\n    background: \"#303030\",\n    height: 45,\n    width: \"100%\",\n    boxSizing: \"border-box\",\n    paddingLeft: 5,\n    paddingRight: 12,\n    zIndex: 1111,\n    position: \"fixed\",\n    top: 0,\n    [MOBILE]: {\n      height: 80,\n    },\n  },\n  brand: {\n    fontSize: \"2.3rem\",\n    fontWeight: \"bold\",\n    letterSpacing: \"-0.09rem\",\n    cursor: \"pointer\",\n  },\n  subBrand: {\n    content: \"/community\",\n    opacity: 0.5,\n  },\n});\n\nconst Header: React.FC = () => {\n  const { t } = useTranslation();\n  const { tags, search, selectedTags, setSearchState } = useContext(\n    DataContext\n  ) as IUseData;\n  const [localSearch, setSearch] = useState(search);\n  const [localSelectedTags, setSelectedTags] = useState<string[]>(selectedTags);\n  const h = useHistory();\n\n  const go = useCallback(() => {\n    if (localSearch.length > 0 || localSelectedTags.length > 0) {\n      h.push(`/search/${localSearch}---${localSelectedTags.join(\"---\")}`);\n    } else if (window.location.pathname.startsWith(\"/search\")) {\n      h.push(\"/\");\n    }\n  }, [h, localSearch, localSelectedTags]);\n\n  useEffect(() => {\n    setSearch(search);\n    setSelectedTags(selectedTags);\n  }, [search, selectedTags]);\n\n  return (\n    <header className={$.header}>\n      <Stack\n        horizontal\n        wrap\n        className={$.root}\n        verticalAlign=\"center\"\n        horizontalAlign=\"space-between\"\n      >\n        <div role=\"button\" onClick={() => h.push(\"/\")}>\n          <h1 className={$.brand}>\n            bespoke<span className={$.subBrand}>/community</span>\n          </h1>\n        </div>\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n            go();\n          }}\n          className={$.form}\n        >\n          <Stack horizontal tokens={{ childrenGap: 16 }}>\n            <TextField\n              placeholder={t(\"Header.search\")}\n              onChange={(e, v) => setSearch(v!)}\n              value={localSearch}\n            />\n            <ComboBox\n              placeholder={t(\"Header.tags\")}\n              options={Array.from(tags).map((ta) => ({ key: ta, text: ta }))}\n              multiSelect\n              selectedKey={localSelectedTags}\n              onChange={(values, option) =>\n                option &&\n                setSelectedTags(\n                  option.selected\n                    ? [...localSelectedTags, option.key as string]\n                    : localSelectedTags.filter(\n                        (ta) => ta !== (option.key as string)\n                      )\n                )\n              }\n              allowFreeform={false}\n            />\n            <PrimaryButton type=\"primary\" onClick={go}>\n              {t(\"Header.go\")}\n            </PrimaryButton>\n          </Stack>\n        </form>\n      </Stack>\n    </header>\n  );\n};\n\nexport default Header;\n","import { mergeStyleSets } from \"@fluentui/merge-styles\";\nimport React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { RingLoader } from \"react-spinners\";\n\nconst $ = mergeStyleSets({\n  full: {\n    pointerEvents: \"none\",\n    width: \"100vw\",\n    height: \"calc(100vh - 50px)\",\n    marginTop: 50,\n    display: \"flex\",\n    position: \"fixed\",\n    top: 0,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n});\n\nconst Loader: React.FC<{ full: boolean }> = ({ full }) =>\n  createPortal(\n    <div className={$.full}>\n      <RingLoader color=\"#ffffff\" size={120} />\n    </div>,\n    document.body\n  );\n\nexport default Loader;\n","import { mergeStyleSets } from \"@fluentui/merge-styles\";\nimport React from \"react\";\nimport { MOBILE } from \"../theme/constants\";\n\nconst $ = mergeStyleSets({\n  root: {\n    paddingTop: 50,\n    maxWidth: 1024,\n    paddingLeft: 20,\n    paddingRight: 20,\n    margin: \"auto\",\n    marginBottom: 30,\n    boxSizing: \"border-box\",\n    minHeight: \"calc(100vh - 80px)\",\n    [MOBILE]: {\n      paddingTop: 70,\n      minHeight: \"calc(100vh - 100px)\",\n    },\n  },\n});\n\nconst Section: React.FC = ({ children }) => (\n  <section className={$.root}>{children}</section>\n);\n\nexport default Section;\n","export default {\n  Patch: {\n    viz: \"viz\",\n    audio_samples: \"audio_samples\",\n    description: \"description\",\n    no_audio_samples: \"No audio samples\",\n    no_description: \"No description\",\n    back: \"Patch list\",\n  },\n\n  PatchList: {\n    no_patches: \"No patches found\",\n  },\n\n  About: {\n    title: \"About\",\n    description:\n      'Bespoke/Community is a place for Bespoke users to publicly share their favorite patches. It is currently a work in progress and while it should work it’s still missing some common features. <a href=\"https://github.com/BespokeSynth/BespokeSynth\">Bespoke</a> and <a href=\"https://github.com/fredericlb/BespokeSynth-Sharing-Webapp\">Bespoke/Community</a> are open source softwares.',\n    upload_title: \"upload\",\n    upload:\n      'In this first version the process is fully manual. You have to do a pull request on <a href=\"https://github.com/fredericlb/BespokeSynth-Community-Sharing-Repo\">this repository</a>, which contains every patches listed by Bespoke/Community. Instructions are included in the README of the repository. If all these words does not make sense to you, you can contact me (@phr__) on <a href=\"https://discord.gg/YdTMkvvpZZ\">Bespoke’s Discord</a>. ',\n  },\n\n  Error: {\n    title: \"ERROR\",\n    content: \"Something bad happened :(\",\n  },\n\n  Header: {\n    search: \"search...\",\n    tags: \"tags...\",\n    go: \"go\",\n  },\n\n  PatchItem: {\n    author: \"author\",\n    date: \"date\",\n    revision: \"revision\",\n    download: \"Download\",\n  },\n\n  ScriptsModal: {\n    title: \"Scripts review\",\n    intro: `This patch contains Python scripts. Since Python is not sandboxed when\n    running Bespoke, running these scripts could do potentially harm your\n    computer. Please review all these scripts before download, and if you\n    are not Python saavy please ask someone on the Discord community.`,\n    cancel: \"Cancel\",\n    download: \"Download\",\n  },\n\n  Footer: {\n    text: \"2021 - Bespoke/Community is an open source project (MIT licence)\",\n  },\n};\n","import i18next from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\n\nimport en from \"./en\";\n\nconst initLocales: () => void = () => {\n  i18next.use(initReactI18next).init({\n    resources: {\n      en: { translation: en },\n    },\n    lng: \"en\",\n    fallbackLng: \"en\",\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n};\n\nexport default initLocales;\n","import { mergeStyleSets } from \"@fluentui/merge-styles\";\nimport React from \"react\";\n\nconst $ = mergeStyleSets({\n  sectionTitle: {\n    marginTop: 32,\n    marginBottom: 16,\n    fontSize: \"1.5rem\",\n    fontWeight: \"bold\",\n    color: \"#ABABAB\",\n    textTransform: \"lowercase\",\n    selectors: {\n      \"::before\": {\n        content: \"/\",\n      },\n    },\n  },\n});\n\nconst SectionTitle: React.FC = ({ children }) => (\n  <h2 className={$.sectionTitle}>/{children}</h2>\n);\n\nexport default SectionTitle;\n","import { mergeStyleSets } from \"@fluentui/merge-styles\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport SectionTitle from \"./Typography\";\n\nconst $ = mergeStyleSets({\n  p: {\n    color: \"#bbbbbb\",\n    a: {\n      color: \"#bbbbbb\",\n    },\n  },\n});\n\nconst AboutContent: React.FC<{ short?: boolean }> = ({ short = false }) => {\n  const { t } = useTranslation();\n  return (\n    <div>\n      <SectionTitle>{t(\"About.title\")}</SectionTitle>\n      <p\n        className={$.p}\n        dangerouslySetInnerHTML={{ __html: t(\"About.description\") }}\n      />\n      <SectionTitle>{t(\"About.upload_title\")}</SectionTitle>\n      <p\n        className={$.p}\n        dangerouslySetInnerHTML={{ __html: t(\"About.upload\") }}\n      />\n    </div>\n  );\n};\n\nexport default AboutContent;\n","import { makeStyles, PrimaryButton, Stack } from \"@fluentui/react\";\nimport React, { useContext } from \"react\";\nimport Highlighter from \"react-highlight-words\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport { PatchSummary } from \"../hooks/patch.types\";\nimport { DataContext, IUseData } from \"../hooks/useData\";\nimport { MOBILE } from \"../theme/constants\";\n\nconst useStyle = makeStyles(() => ({\n  root: {\n    background: \"#343434\",\n    position: \"relative\",\n  },\n  title: {\n    background: \"#EFEFEF\",\n    width: \"100%\",\n    fontWeight: \"bold\",\n    fontSize: \"1.3rem\",\n    cursor: \"pointer\",\n    color: \"#343434\",\n    height: 30,\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingLeft: 8,\n    boxSizing: \"border-box\",\n    borderBottom: \"3px solid #676767\",\n    justifyContent: \"space-between\",\n    paddingRight: 8,\n  },\n  content: {\n    padding: 8,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    [MOBILE]: {\n      alignItems: \"flex-start\",\n      justifyContent: \"flex-start\",\n      flexDirection: \"column\",\n    },\n  },\n  titleInList: {\n    selectors: {\n      \"&:after\": {\n        content: \"'→'\",\n      },\n    },\n  },\n  subpatch: {\n    display: \"flex\",\n    opacity: 0.7,\n    [MOBILE]: {\n      flexDirection: \"column\",\n    },\n  },\n  subpatchTitle: {\n    fontWeight: \"bold\",\n  },\n  separator: {\n    \"&:before\": {\n      content: \"'//'\",\n      display: \"inline-block\",\n      marginLeft: 8,\n      marginRight: 8,\n      marginBottom: 2,\n      fontSize: \"1rem\",\n      [MOBILE]: {\n        display: \"none\",\n      },\n    },\n  },\n  tags: {\n    marginTop: 4,\n  },\n  tag: {\n    background: \"#676767\",\n    display: \"inline-block\",\n    padding: \"2px 5px\",\n    marginRight: 8,\n  },\n  download: {\n    marginRight: 16,\n    [MOBILE]: {\n      paddingTop: 16,\n      marginRight: 0,\n      display: \"flex\",\n      justifyContent: \"center\",\n    },\n  },\n  description: {\n    marginTop: 12,\n  },\n}));\n\nconst PatchItem: React.FC<{\n  patch: PatchSummary;\n  onDownload?: () => void;\n  isList: boolean;\n}> = ({ patch, onDownload, isList }) => {\n  const $ = useStyle();\n  const { search, selectedTags } = useContext(DataContext) as IUseData;\n  const h = useHistory();\n  const { t } = useTranslation();\n  return (\n    <div className={$.root}>\n      <div\n        role=\"button\"\n        onClick={() => !onDownload && h.push(`/patch/${patch.id}`)}\n        className={`${$.title} ${isList && $.titleInList}`}\n      >\n        <Highlighter\n          highlightClassName=\"highlight\"\n          searchWords={[search]}\n          autoEscape\n          textToHighlight={patch.title[0]}\n        />\n      </div>\n      <Stack\n        className={$.content}\n        verticalAlign=\"center\"\n        horizontalAlign=\"space-between\"\n      >\n        <div>\n          <div className={$.subpatch}>\n            <div>\n              <span className={$.subpatchTitle}>{t(\"PatchItem.author\")}:</span>{\" \"}\n              {patch.author[0]}{\" \"}\n            </div>\n            <div className={$.separator}>\n              <span className={$.subpatchTitle}>{t(\"PatchItem.date\")}: </span>{\" \"}\n              {new Date(patch.publish).toLocaleString(\"en-US\")}\n            </div>\n            <div className={$.separator}>\n              <span className={$.subpatchTitle}>\n                {t(\"PatchItem.revision\")}:{\" \"}\n              </span>{\" \"}\n              {patch.version[0]}\n            </div>\n          </div>\n          <div className={$.tags}>\n            {patch.tags.map((tag) => (\n              <div\n                className={$.tag}\n                key={tag}\n                style={\n                  selectedTags.includes(tag)\n                    ? { background: \"yellow\", color: \"black\" }\n                    : {}\n                }\n              >\n                {tag}\n              </div>\n            ))}\n          </div>\n          <p className={$.description}>\n            <Highlighter\n              searchWords={[search]}\n              autoEscape\n              textToHighlight={patch.summary[0]}\n            />\n          </p>\n        </div>\n        {onDownload && (\n          <div className={$.download}>\n            <PrimaryButton\n              iconProps={{ iconName: \"download\" }}\n              onClick={onDownload}\n            >\n              {t(\"PatchItem.download\")}\n            </PrimaryButton>\n          </div>\n        )}\n      </Stack>\n    </div>\n  );\n};\n\nexport default PatchItem;\n","import { mergeStyleSets } from \"@fluentui/merge-styles\";\nimport React, { useContext } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { DataContext, IUseData } from \"../hooks/useData\";\nimport { MOBILE } from \"../theme/constants\";\nimport PatchItem from \"./PatchItem\";\nimport SectionTitle from \"./Typography\";\n\nconst $ = mergeStyleSets({\n  list: {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr 1fr\",\n    gap: 16,\n    [MOBILE]: {\n      gridTemplateColumns: \"1fr\",\n    },\n  },\n});\n\nconst PatchList: React.FC = () => {\n  const { filteredPatchList } = useContext(DataContext) as IUseData;\n  const { t } = useTranslation();\n\n  return (\n    <div className=\"patch-list\">\n      <SectionTitle>Patches</SectionTitle>\n      {filteredPatchList.length === 0 && <div>{t(\"PatchList.no_patches\")}</div>}\n      <div className={$.list}>\n        {filteredPatchList.map((p) => (\n          <PatchItem patch={p} key={p.id} isList />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default PatchList;\n","import { DefaultButton } from \"@fluentui/react\";\nimport React, { useContext, useEffect, useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport About from \"../components/AboutContent\";\nimport PatchList from \"../components/PatchList\";\nimport { DataContext, IUseData } from \"../hooks/useData\";\n\nconst Home: React.FC = () => {\n  const { setSearchState, ...data } = useContext(DataContext) as IUseData;\n  const { searchState } = useParams<{ searchState: string }>();\n  const h = useHistory();\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    setSearchState(searchState);\n  }, [searchState, setSearchState]);\n  const noFilters = useMemo(\n    () => data.search.length === 0 && data.selectedTags.length === 0,\n    [data]\n  );\n  return (\n    <div className=\"page-home\">\n      {noFilters && <About />}\n      {!noFilters && (\n        <DefaultButton\n          style={{ marginTop: 24 }}\n          onClick={() => h.push(\"/\")}\n          iconProps={{ iconName: \"back\" }}\n        >\n          {t(\"Patch.back\")}\n        </DefaultButton>\n      )}\n      <PatchList />\n    </div>\n  );\n};\n\nexport default Home;\n","import { mergeStyleSets } from \"@fluentui/merge-styles\";\n\nconst modalStyles = mergeStyleSets({\n  docBodyFix: {\n    paddingRight: 18,\n  },\n  container: {\n    maxWidth: \"70vw\",\n    background: \"#343434\",\n  },\n  header: [\n    {\n      flex: \"1 1 auto\",\n      display: \"flex\",\n      alignItems: \"center\",\n      fontWeight: 600,\n      padding: \"12px 12px 14px 24px\",\n    },\n  ],\n  body: {\n    flex: \"4 4 auto\",\n    padding: \"0 24px 24px 24px\",\n    overflowY: \"hidden\",\n    maxHeight: \"50vh\",\n    minHeight: \"50vh\",\n    selectors: {\n      p: { margin: \"14px 0\" },\n      \"p:first-child\": { marginTop: 0 },\n      \"p:last-child\": { marginBottom: 0 },\n    },\n  },\n  footer: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    paddingRight: \"24px\",\n    paddingBottom: \"16px\",\n  },\n  closeIcon: {\n    color: \"#ABABAB\",\n    marginLeft: \"auto\",\n    marginTop: \"4px\",\n    marginRight: \"2px\",\n  },\n  closeIconHovered: {\n    color: \"#676767\",\n  },\n  textRead: {\n    minWidth: \"40vw\",\n    maxHeight: \"50vh\",\n    overflowY: \"scroll\",\n    overflowX: \"auto\",\n    fontFamily: \"monospace\",\n    whiteSpace: \"pre\",\n    background: \"#f8f8ff\",\n  },\n});\n\nexport default modalStyles;\n","import { IconButton, Modal } from \"@fluentui/react\";\nimport React, { useEffect } from \"react\";\nimport SyntaxHighlighter from \"react-syntax-highlighter\";\nimport { docco } from \"react-syntax-highlighter/dist/esm/styles/hljs\";\nimport $ from \"../theme/modal\";\n\nconst TextModal: React.FC<{\n  type: \"comment\" | \"python\";\n  content: string;\n  onClose?: () => void;\n  title: string;\n}> = ({ type, content, title, onClose = () => {} }) => {\n  useEffect(() => {\n    const hasVerticalScrollbar =\n      document.body.scrollHeight > document.body.clientHeight;\n\n    if (hasVerticalScrollbar) {\n      document.body.classList.add($.docBodyFix);\n    }\n\n    return () => {\n      if (hasVerticalScrollbar) {\n        document.body.classList.remove($.docBodyFix);\n      }\n    };\n  });\n  return (\n    <Modal\n      isOpen\n      onDismiss={onClose}\n      isBlocking\n      containerClassName={$.container}\n    >\n      <div className={$.header}>\n        <span>{title}</span>\n        <IconButton\n          className={$.closeIcon}\n          iconProps={{ iconName: \"Cancel\" }}\n          onClick={onClose}\n        />\n      </div>\n      <div className={$.body}>\n        <div className={$.textRead}>\n          {type === \"python\" ? (\n            <SyntaxHighlighter language=\"python\" style={docco}>\n              {content}\n            </SyntaxHighlighter>\n          ) : (\n            <SyntaxHighlighter language=\"markdown\" style={docco}>\n              {content}\n            </SyntaxHighlighter>\n          )}\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default TextModal;\n","import dagre from \"dagre\";\nimport React, { useCallback, useMemo, useState } from \"react\";\nimport ReactFlow, {\n  Background,\n  BackgroundVariant,\n  Controls,\n  Edge,\n  Elements,\n  isNode,\n  Node,\n  Position,\n} from \"react-flow-renderer\";\nimport { Module } from \"../hooks/patch.types\";\nimport TextModal from \"./TextModal\";\n\nconst dagreGraph = new dagre.graphlib.Graph();\ndagreGraph.setDefaultEdgeLabel(() => ({}));\n\nconst nodeWidth = 172;\nconst nodeHeight = 36;\n\nconst getLayoutedElements = (elements: Elements) => {\n  dagreGraph.setGraph({ rankdir: \"TB\" });\n\n  elements.forEach((el) => {\n    if (isNode(el)) {\n      dagreGraph.setNode(el.id, { width: nodeWidth, height: nodeHeight });\n    } else {\n      dagreGraph.setEdge(el.source, el.target);\n    }\n  });\n\n  dagre.layout(dagreGraph);\n\n  return elements.map((el) => {\n    if (isNode(el)) {\n      const nodeWithPosition = dagreGraph.node(el.id);\n      el.targetPosition = Position.Top;\n      el.sourcePosition = Position.Bottom;\n\n      // unfortunately we need this little hack to pass a slightly different position\n      // to notify react flow about the change. Moreover we are shifting the dagre node position\n      // (anchor=center center) to the top left so it matches the react flow node anchor point (top left).\n      el.position = {\n        x: nodeWithPosition.x - nodeWidth / 2 + Math.random() / 1000,\n        y: nodeWithPosition.y - nodeHeight / 2,\n      };\n    }\n\n    return el;\n  });\n};\n\nconst BSKViz: React.FC<{ modules: Module[] }> = ({ modules }) => {\n  const [modalContent, setModalContent] =\n    useState<{ content: string; type: \"comment\" | \"python\"; title: string }>();\n\n  const cables: Edge[] = useMemo(\n    () =>\n      modules.flatMap((m, i) =>\n        (m.target || \"\")\n          .split(\",\")\n          .filter((t) => t !== \"\")\n          .map((t) => {\n            const j = modules.findIndex((n) => n.name === t);\n            return {\n              id: `${i}-${j}`,\n              source: `${i}`,\n              target: `${j}`,\n              animated: true,\n            };\n          })\n      ),\n    [modules]\n  );\n\n  const nodes: Elements = useMemo(\n    () =>\n      modules.map((m, i) => {\n        let backgroundColor = \"#efefef\";\n        if (m.script) {\n          backgroundColor = \"#AAffAA\";\n        } else if (m.comment) {\n          backgroundColor = \"#AAAAff\";\n        }\n        return {\n          id: `${i}`,\n          type: \"default\",\n          data: { label: m.name, i },\n          style: {\n            width: \"auto\",\n            fontSize: \"12px\",\n            cursor: m.script || m.comment ? \"pointer\" : \"default\",\n            backgroundColor,\n          },\n          position: { x: m.position[0] / 1.2, y: m.position[1] / 1.5 },\n        };\n      }),\n    [modules]\n  );\n\n  const elements = useMemo(() => [...nodes, ...cables], [nodes, cables]);\n  const onClick = useCallback(\n    (elt: Node) => {\n      const module = modules[elt.data.i];\n      if (module.script != null) {\n        setModalContent({\n          content: module.script,\n          type: \"python\",\n          title: module.name,\n        });\n      } else if (module.comment) {\n        setModalContent({\n          content: module.comment,\n          type: \"comment\",\n          title: module.name,\n        });\n      }\n    },\n    [modules]\n  );\n\n  return (\n    <div style={{ width: \"100%\", height: 300, backgroundColor: \"#343434\" }}>\n      {modalContent && (\n        <TextModal\n          content={modalContent.content}\n          title={modalContent.title}\n          type={modalContent.type}\n          onClose={() => setModalContent(undefined)}\n        />\n      )}\n      <ReactFlow\n        minZoom={0.1}\n        maxZoom={10}\n        elements={elements}\n        onLoad={(instance) => instance.fitView()}\n        nodesDraggable={false}\n        nodesConnectable={false}\n        onElementClick={(_, elt) => isNode(elt) && onClick(elt)}\n      >\n        <Controls showInteractive={false} />\n        <Background variant={BackgroundVariant.Dots} color=\"#ff00ff\" gap={16} />\n      </ReactFlow>\n    </div>\n  );\n};\n\nexport default BSKViz;\n","import { useEffect } from \"react\";\n\nconst useTitle = (title: string) => {\n  useEffect(() => {\n    const prevTitle = document.title;\n    document.title = title;\n    return () => {\n      document.title = prevTitle;\n    };\n  });\n};\n\nexport default useTitle;\n","import React from \"react\";\nimport useTitle from \"../hooks/useTitle\";\n\nconst DocumentTitle: React.FC = ({ children }) => {\n  useTitle(children as string);\n\n  return null;\n};\n\nexport default DocumentTitle;\n","import {\n  DefaultButton,\n  IconButton,\n  Modal,\n  Pivot,\n  PivotItem,\n  PrimaryButton,\n} from \"@fluentui/react\";\nimport React, { useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport SyntaxHighlighter from \"react-syntax-highlighter\";\nimport { docco } from \"react-syntax-highlighter/dist/esm/styles/hljs\";\nimport $ from \"../theme/modal\";\n\nconst ScriptsModal: React.FC<{\n  scripts: { name: string; content: string }[];\n  onClose?: () => void;\n  onEnd: (valid: boolean) => void;\n}> = ({ scripts, onClose = () => {}, onEnd }) => {\n  const { t } = useTranslation();\n  useEffect(() => {\n    const hasVerticalScrollbar =\n      document.body.scrollHeight > document.body.clientHeight;\n\n    if (hasVerticalScrollbar) {\n      document.body.classList.add($.docBodyFix);\n    }\n\n    return () => {\n      if (hasVerticalScrollbar) {\n        document.body.classList.remove($.docBodyFix);\n      }\n    };\n  });\n  return (\n    <Modal\n      isOpen\n      onDismiss={onClose}\n      isBlocking\n      containerClassName={$.container}\n    >\n      <div className={$.header}>\n        <span>{t(\"ScriptsModal.title\")}</span>\n        <IconButton\n          className={$.closeIcon}\n          iconProps={{ iconName: \"Cancel\" }}\n          onClick={onClose}\n        />\n      </div>\n      <div className={$.body}>\n        <p\n          style={{\n            maxWidth: \"50vw\",\n            background: \"#CDCDCD\",\n            color: \"#010101\",\n            padding: 5,\n            borderRadius: 5,\n          }}\n        >\n          {t(\"ScriptsModal.intro\")}\n        </p>\n        <Pivot>\n          {scripts.map(({ name, content }) => (\n            <PivotItem headerText={name}>\n              <div className={$.textRead}>\n                <SyntaxHighlighter language=\"python\" style={docco}>\n                  {content}\n                </SyntaxHighlighter>\n              </div>\n            </PivotItem>\n          ))}\n        </Pivot>\n      </div>\n      <div className={$.footer}>\n        <DefaultButton onClick={() => onEnd(false)} style={{ marginRight: 16 }}>\n          {t(\"ScriptsModal.cancel\")}\n        </DefaultButton>\n        <PrimaryButton onClick={() => onEnd(true)}>\n          {t(\"ScriptsModal.download\")}\n        </PrimaryButton>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ScriptsModal;\n","import { mergeStyleSets } from \"@fluentui/merge-styles\";\nimport { DefaultButton, IconButton, Stack } from \"@fluentui/react\";\nimport React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport BSKViz from \"../components/BSKViz\";\nimport DocumentTitle from \"../components/DocumentTitle\";\nimport Error from \"../components/Error\";\nimport Loader from \"../components/Loader\";\nimport PatchItem from \"../components/PatchItem\";\nimport ScriptsModal from \"../components/ScriptsModal\";\nimport SectionTitle from \"../components/Typography\";\nimport { Patch } from \"../hooks/patch.types\";\nimport { DataContext, IUseData } from \"../hooks/useData\";\nimport { MOBILE } from \"../theme/constants\";\n\nconst AudioItem: React.FC<{ src: string; fname: string }> = ({\n  src,\n  fname,\n}) => {\n  const audioRef = useRef<HTMLAudioElement>(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  const playpause = useCallback(() => {\n    if (audioRef.current) {\n      if (!isPlaying) {\n        audioRef.current.play();\n      } else {\n        audioRef.current.pause();\n      }\n      setIsPlaying(!isPlaying);\n    }\n  }, [isPlaying]);\n  return (\n    <Stack horizontal verticalAlign=\"center\">\n      <audio src={src} ref={audioRef} />\n      <IconButton\n        iconProps={{\n          iconName: !isPlaying ? \"play\" : \"pause\",\n        }}\n        onClick={playpause}\n      />\n      <div>{fname.split(\"/\").reverse()[0]}</div>\n    </Stack>\n  );\n};\n\nconst $ = mergeStyleSets({\n  back: {\n    marginTop: 40,\n    marginBottom: 20,\n  },\n  viz: {\n    width: \"70%\",\n\n    [MOBILE]: {\n      width: \"100%\",\n    },\n  },\n  samples: {\n    paddingLeft: 12,\n\n    [MOBILE]: {\n      paddingLeft: 0,\n    },\n  },\n  contentStack: {\n    flexDirection: \"row\",\n\n    [MOBILE]: {\n      flexDirection: \"column\",\n    },\n  },\n});\n\nconst PatchPage: React.FC = () => {\n  const { t } = useTranslation();\n\n  const { id } = useParams<{ id: string }>();\n  const { patches, getPatchInfo } = useContext(DataContext) as IUseData;\n  const [showScriptModal, setShowScriptModal] = useState(false);\n  const [fullPatch, setFullPatch] = useState<Patch | null>();\n  const h = useHistory();\n\n  const scripts: { name: string; content: string }[] = useMemo(() => {\n    if (fullPatch) {\n      return fullPatch.bsk_content.modules\n        .filter(({ script }) => script != null)\n        .map((module) => ({ name: module.name, content: module.script! }));\n    }\n    return [];\n  }, [fullPatch]);\n\n  useEffect(() => {\n    const f = async () => {\n      setFullPatch(await getPatchInfo(`${id}`));\n    };\n    f();\n  }, [getPatchInfo, id]);\n\n  const download = useCallback(() => {\n    if (!fullPatch) {\n      return;\n    }\n    const a = document.createElement(\"a\");\n    a.download = \"download\";\n    a.href = fullPatch.bsk_download;\n    a.click();\n  }, [fullPatch]);\n\n  return (\n    <div>\n      {showScriptModal && (\n        <ScriptsModal\n          scripts={scripts}\n          onClose={() => {\n            setShowScriptModal(false);\n          }}\n          onEnd={(valid: boolean) => {\n            setShowScriptModal(false);\n\n            if (valid) {\n              download();\n            }\n          }}\n        />\n      )}\n      <DefaultButton\n        onClick={() => h.goBack()}\n        iconProps={{ iconName: \"back\" }}\n        className={$.back}\n      >\n        {t(\"Patch.back\")}\n      </DefaultButton>\n\n      <PatchItem\n        isList={false}\n        patch={patches[id]}\n        onDownload={() =>\n          fullPatch && fullPatch.scripts.length > 0\n            ? setShowScriptModal(true)\n            : download()\n        }\n      />\n\n      {fullPatch === undefined && <Loader full />}\n      {fullPatch === null && <Error />}\n      {fullPatch != null && (\n        <div className=\"patch-content\">\n          <DocumentTitle>{fullPatch.title} / Bespoke Community</DocumentTitle>\n          <Stack className={$.contentStack}>\n            <div className={$.viz}>\n              <SectionTitle>{t(\"Patch.viz\")}</SectionTitle>\n              <BSKViz modules={fullPatch.bsk_content.modules} />\n            </div>\n            <div className={$.samples}>\n              <SectionTitle>{t(\"Patch.audio_samples\")}</SectionTitle>\n              {fullPatch.audio_samples.length === 0 && (\n                <div>{t(\"Patch.no_audio_samples\")}</div>\n              )}\n              {fullPatch.audio_samples.length > 0 &&\n                fullPatch.audio_samples.map((as) => (\n                  <AudioItem src={as} key={as} fname={as} />\n                ))}\n              <ul>\n                <li />\n              </ul>\n            </div>\n          </Stack>\n\n          <SectionTitle>{t(\"Patch.description\")}</SectionTitle>\n          {fullPatch.html.trim().length === 0 ? (\n            <div className=\"mdContent\">{t(\"Patch.no_description\")}</div>\n          ) : (\n            <div\n              className=\"mdContent\"\n              dangerouslySetInnerHTML={{ __html: fullPatch.html }}\n            />\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PatchPage;\n","import { createTheme } from \"@fluentui/style-utilities\";\n\nconst myTheme = createTheme({\n  palette: {\n    themePrimary: \"#bdbdbd\",\n    themeLighterAlt: \"#080808\",\n    themeLighter: \"#1e1e1e\",\n    themeLight: \"#393939\",\n    themeTertiary: \"#717171\",\n    themeSecondary: \"#a6a6a6\",\n    themeDarkAlt: \"#c3c3c3\",\n    themeDark: \"#cdcdcd\",\n    themeDarker: \"#dadada\",\n    neutralLighterAlt: \"#161616\",\n    neutralLighter: \"#161616\",\n    neutralLight: \"#151515\",\n    neutralQuaternaryAlt: \"#141414\",\n    neutralQuaternary: \"#131313\",\n    neutralTertiaryAlt: \"#121212\",\n    neutralTertiary: \"#f3f3f3\",\n    neutralSecondary: \"#f5f5f5\",\n    neutralPrimaryAlt: \"#f7f7f7\",\n    neutralPrimary: \"#eeeeee\",\n    neutralDark: \"#fbfbfb\",\n    black: \"#fdfdfd\",\n    white: \"#161616\",\n  },\n});\n\nexport default myTheme;\n","import { ThemeProvider } from \"@fluentui/react\";\nimport { initializeIcons } from \"@uifabric/icons\";\nimport React, { useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Error from \"./components/Error\";\nimport Footer from \"./components/Footer\";\nimport Header from \"./components/Header\";\nimport Loader from \"./components/Loader\";\nimport Section from \"./components/Section\";\nimport Config from \"./config\";\nimport useData, { DataContext } from \"./hooks/useData\";\nimport initLocales from \"./i18n\";\nimport Home from \"./pages/Home\";\nimport Patch from \"./pages/Patch\";\nimport myTheme from \"./theme/fluenceTheme\";\n\ninitializeIcons();\n\ninitLocales();\n\nconst Inner: React.FC = () => {\n  const { load, ...dataAPI } = useData();\n\n  useEffect(() => load(), [load]);\n\n  return (\n    <DataContext.Provider value={dataAPI}>\n      <Header />\n      {!dataAPI.isLoaded && <Loader full />}\n      {dataAPI.isLoaded && dataAPI.isError && <Error />}\n      {dataAPI.isLoaded && !dataAPI.isError && (\n        <Section>\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/search/:searchState\" component={Home} />\n            <Route path=\"/patch/:id\" component={Patch} />\n            <Route\n              path=\"*\"\n              render={() => (\n                <div style={{ marginTop: 120, textAlign: \"center\" }}>\n                  Page not found :(\n                </div>\n              )}\n            />\n          </Switch>\n        </Section>\n      )}\n      <Footer />\n    </DataContext.Provider>\n  );\n};\n\nconst App: React.FC = () => (\n  <ThemeProvider applyTo=\"body\" theme={myTheme}>\n    <Router basename={Config.basePath}>\n      <Inner />\n    </Router>\n  </ThemeProvider>\n);\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./theme/index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}